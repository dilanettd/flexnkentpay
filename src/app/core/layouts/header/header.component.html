<header class="header navbar-area">
  <!-- Start Topbar -->
  <div class="topbar hidden md:block">
    <div class="top-content">
      <div class="top-left">
        <ul class="menu-top-link">
          <li>
            <div class="select-position">
              <select id="select5">
                <option value="0" selected>English</option>
                <option value="3">Fran√ßais</option>
              </select>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Topbar -->
  <!-- Header Middle -->
  <div class="header-middle">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between">
        <!-- Logo -->
        <div class="flex items-center cursor-pointer" routerLink="/">
          <span class="text-[#0167F3] font-bold text-xl md:text-2xl"
            >FlexnkentPay</span
          >
        </div>

        <!-- Menu -->
        <nav class="hidden md:flex space-x-6 text-[#081828] font-semibold">
          <a
            [routerLink]="['/account/profile']"
            fragment="create-shop"
            class="hover:text-[#0167F3]"
          >
            Create my shop
          </a>
          <a routerLink="/account/profile" class="hover:text-[#0167F3]">
            Mon compte
          </a>
          <a routerLink="/contact" class="hover:text-[#0167F3]">Contact Us</a>
        </nav>

        <button
          class="p-1.5 px-2.5 rounded-full bg-[#0167F3] text-white hover:bg-blue-300"
          (click)="toggleSearchBar()"
        >
          <i class="lni lni-search-alt"></i>
        </button>
        <div class="hidden lg:block">
          <div *ngIf="isAuthenticated" class="flex items-center space-x-4">
            <!-- Avatar -->
            <div class="avatar-container" (click)="toggleAvatarMenu()">
              <button class="rounded-full p-2 border hover:bg-slate-50">
                <svg
                  width="30"
                  height="30"
                  viewBox="0 0 25 24"
                  fill="#343C54"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M16.4337 6.35C16.4337 8.74 14.4937 10.69 12.0937 10.69L12.0837 10.68C9.69365 10.68 7.74365 8.73 7.74365 6.34C7.74365 3.95 9.70365 2 12.0937 2C14.4837 2 16.4337 3.96 16.4337 6.35ZM14.9337 6.34C14.9337 4.78 13.6637 3.5 12.0937 3.5C10.5337 3.5 9.25365 4.78 9.25365 6.34C9.25365 7.9 10.5337 9.18 12.0937 9.18C13.6537 9.18 14.9337 7.9 14.9337 6.34Z"
                    fill="#343C54"
                  />
                  <path
                    d="M12.0235 12.1895C14.6935 12.1895 16.7835 12.9395 18.2335 14.4195V14.4095C20.2801 16.4956 20.2739 19.2563 20.2735 19.4344L20.2735 19.4395C20.2635 19.8495 19.9335 20.1795 19.5235 20.1795H19.5135C19.0935 20.1695 18.7735 19.8295 18.7735 19.4195C18.7735 19.3695 18.7735 17.0895 17.1535 15.4495C15.9935 14.2795 14.2635 13.6795 12.0235 13.6795C9.78346 13.6795 8.05346 14.2795 6.89346 15.4495C5.27346 17.0995 5.27346 19.3995 5.27346 19.4195C5.27346 19.8295 4.94346 20.1795 4.53346 20.1795C4.17346 20.1995 3.77346 19.8595 3.77346 19.4495L3.77345 19.4448C3.77305 19.2771 3.76646 16.506 5.81346 14.4195C7.26346 12.9395 9.35346 12.1895 12.0235 12.1895Z"
                    fill="#343C54"
                  />
                </svg>
              </button>
              <div
                *ngIf="isMenuOpen"
                class="absolute right-0 top-14 bg-white border shadow-md rounded w-48"
              >
                <ul class="text-center text-sm font-medium">
                  <li class="border-b">
                    <a
                      routerLink="account"
                      (click)="toggleAvatarMenu()"
                      class="block py-2"
                      >Account</a
                    >
                  </li>
                  <li>
                    <a
                      href="javascript:void(0)"
                      (click)="logout()"
                      class="block py-2"
                      >Logout</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div *ngIf="!isAuthenticated" class="flex items-center space-x-4">
            <a
              (click)="openRegisterModal()"
              class="px-4 py-2 bg-[#0167F3] rounded hover:bg-blue-600 cursor-pointer text-black font-bold"
            >
              Register
            </a>
            <a
              (click)="openLoginModal()"
              class="px-4 py-2 border border-[#0167F3] text-[#0167F3] rounded hover:bg-[#0167F3] cursor-pointer text-black font-bold"
            >
              Sign In
            </a>
          </div>
        </div>
        <div class="md:hidden">
          <div class="nav-inner">
            <!-- Start Navbar -->
            <nav class="navbar navbar-expand-lg">
              <button
                class="navbar-toggler mobile-menu-btn collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
              </button>
              <div
                class="navbar-collapse sub-menu-bar collapse"
                id="navbarSupportedContent"
              >
                <ul id="nav" class="navbar-nav ms-auto">
                  <li class="nav-item">
                    <a
                      [routerLink]="['/account/profile']"
                      [fragment]="'create-shop'"
                      aria-label="Toggle navigation"
                      >Create my shop</a
                    >
                  </li>
                  <li class="nav-item" *ngIf="isAuthenticated">
                    <a
                      routerLink="/account/profile"
                      aria-label="Toggle navigation"
                      >Mon compte</a
                    >
                  </li>

                  <li class="nav-item">
                    <a routerLink="/contact" aria-label="Toggle navigation"
                      >Contact Us</a
                    >
                  </li>
                  <li class="nav-item" *ngIf="!isAuthenticated">
                    <a (click)="openLoginModal()" aria-label="Toggle navigation"
                      >Login</a
                    >
                  </li>
                  <li class="nav-item" *ngIf="!isAuthenticated">
                    <a
                      (click)="openRegisterModal()"
                      aria-label="Toggle navigation"
                      >Register</a
                    >
                  </li>
                  <li class="nav-item" *ngIf="isAuthenticated">
                    <a (click)="logout()" aria-label="Toggle navigation"
                      >Logout</a
                    >
                  </li>
                </ul>
              </div>
              <!-- navbar collapse -->
            </nav>
            <!-- End Navbar -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Bar -->
  <div
    *ngIf="isSearchVisible"
    class="container mx-auto px-4 py-2 bg-gray-100 border-t"
    [@fadeInOut]
  >
    <div class="flex justify-center">
      <div class="w-full lg:w-1/2 flex">
        <input
          type="text"
          placeholder="Search"
          [(ngModel)]="searchKeyword"
          class="w-full border border-gray-300 rounded p-2"
        />
        <button
          class="ml-2 p-2 bg-[#0167F3] text-white rounded hover:bg-blue-600"
          (click)="onSearch()"
        >
          Search
        </button>
      </div>
    </div>
  </div>
</header>
